syntax = "proto3";
package MHUrho.Storage;


message StLevel {
	StMap map = 1;
	repeated StUnit units = 2;
	repeated StPlayer players = 3;
	float gameSpeed = 4;
	StPackages packages = 5;
}

message StPackages {
	repeated StPackage packages = 1;
	repeated StTileType tileTypes = 2;
	repeated StUnitType unitTypes = 3;
	repeated StBuildingType buildingTypes = 4;
}

message StPackage {
	int32 ID = 1;
	string name = 2;
}

message StTile {
	int32 unitID = 1;
	repeated int32 passingUnitIDs = 2;
	int32 tileTypeID = 3;
	StIntVector2 position = 4;
	float height = 5;
}

message StBorderTile {
	int32 tileTypeID = 1;
	StIntVector2 position = 2;
	float topLeftHeight = 3;
	float topRightHeight = 4;
	float botLeftHeight = 5;
	float botRightHeight = 6;
}

message StUnit {
	int32 id = 1;
	int32 typeID = 2;
	StVector2 position = 3;
	int32 playerID = 4;
	StPath path = 5;
	int32 targetUnitID = 6;
}

message StBuilding {

}

message StPlayer {

}

message StPath {
	repeated StIntVector2 pathPoints = 1;
	int32 currentIndex = 2;
}

message StMap {
	StIntVector2 size = 1;
	repeated StTile tiles = 2;
	repeated StBorderTile borderTiles = 3;
}

message StTileType {
	int32 packageID = 1;
	//Global across all tileTypes in this level
	int32 tileTypeID = 2;
	string name = 3;
}

message StUnitType {
	//Global across all packages in this level
	int32 packageID = 1;
	int32 unitTypeID = 2;
	string name = 3;
}

message StBuildingType {
	int32 packageID = 1;
	string name = 2;

}

message StIntVector2 {
	int32 X = 1;
	int32 Y = 2;
}

message StVector2 {
	float X = 1;
	float Y = 2;
}